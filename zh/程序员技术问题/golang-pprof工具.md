# pprof和callgraph区别
pprof 和 callgraph 是 Golang 的两个性能分析工具，用于不同的目的。

Pprof 是一种性能分析工具，它可以帮助开发人员找到应用程序的性能瓶颈。它可以显示应用程序中每个函数被调用的次数、占用的 CPU 时间以及内存使用情况等信息，并生成 CPU 和内存分析报告。Pprof 可以通过访问一个运行中的应用程序的性能捕获数据来进行分析。它还提供了许多可视化工具，如火焰图、函数调用图等，以便更直观地了解应用程序的性能瓶颈。

Callgraph 是一个工具，用于帮助开发人员了解应用程序的函数调用图。该工具可以生成函数和包的调用层次结构图。Callgraph 可以用于确定应用程序在执行期间调用了哪些函数，以及这些函数之间的相互关系。开发人员可以使用它来发现函数之间的依赖关系，优化应用程序的结构，并更好地理解应用程序的内部结构。

因此，尽管 pprof 和 callgraph 都是 Golang 的性能分析工具，但它们的主要功能不同。pprof 旨在帮助开发人员找到应用程序的性能瓶颈，而 callgraph 旨在帮助开发人员了解应用程序的函数调用图并优化应用程序的结构。

# pprof
pprof 是 Go 语言自带性能剖析工具之一，旨在帮助开发人员分析应用程序在运行时的性能问题，并提供基于剖析数据的优化建议。

pprof 支持多种数据来源，如 Go 语言程序的 CPU 和内存剖析数据、火焰图数据、Trace 数据等。pprof 生成的图表和统计信息能够帮助开发人员找到应用程序的性能瓶颈和内存泄漏等问题，从而提高应用程序的性能和可靠性。

以下是 pprof 工具的一些常用命令和选项：
- `go tool pprof [binary] [profile]`: 启动 pprof 工具并加载指定的二进制文件和剖析数据文件
- `top`: 显示消耗 CPU 时间最多的函数列表
- `list [function]`: 显示指定函数的源代码及其相对应的 CPU 采样数据
- `web`: 在浏览器中打开交互式的可视化界面来查看剖析结果
- `png`: 生成一个 PNG 格式的图片以展示分析结果
- `svg`: 生成一个 SVG 格式的矢量图形以展示分析结果

除此之外，pprof 还支持多种参数和选项，可以参考官方文档以获取更详细的使用说明：https://golang.org/pkg/net/http/pprof/